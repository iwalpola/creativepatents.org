!function(a,b){b.BootstrapPassword=function(c){var d=this,e=a(c);return this.settings=b.settings.password,this.$wrapper=e.parent().parent().addClass("row"),this.$helpBlock=a('<div class="help-block"></div>').appendTo(this.$wrapper),this.password={$input:e,$label:e.parent().find("label"),$wrapper:e.parent().addClass("col-sm-4 has-feedback")},this.password.$icon=a('<span class="glyphicon form-control-feedback"></span>').appendTo(this.password.$wrapper),this.strength={$label:a('<div class="label" aria-live="assertive"></div>').appendTo(this.password.$label),$progress:a('<div class="progress"><div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div></div>').appendTo(this.password.$wrapper)},this.strength.$bar=this.strength.$progress.find(".progress-bar"),this.confirm={$input:this.$wrapper.find("input.password-confirm")},this.confirm.$wrapper=this.confirm.$input.parent().addClass("col-sm-4 has-feedback"),this.confirm.$icon=a('<span class="glyphicon form-control-feedback"></span>').appendTo(this.confirm.$wrapper),this.password.$input.on("keyup focus blur",function(){d.validateStrength()}),this.confirm.$input.on("keyup blur",function(){d.validateMatch()}),this},b.BootstrapPassword.prototype.switchClass=function(b,c,d){d=d+"-"||"";var e="has-"===d?["error","warning","success"]:["danger","info","success","warning"];c&&(c=e.splice(a.inArray(c,e),1).shift(),b.addClass(d+c)),b.removeClass(d+e.join(" "+d))},b.BootstrapPassword.prototype.validateStrength=function(){var a=b.evaluatePasswordStrength(this.password.$input.val(),b.settings.password);switch(this.$helpBlock.show(),this.strength.$label.show(),this.strength.$bar.show(),this.$helpBlock.html(a.message),this.$helpBlock[100===a.strength?"hide":"show"](),this.strength.$label.html(a.indicatorText),this.strength.$bar.attr("aria-valuenow",a.strength),this.strength.$bar.css("width",a.strength+"%"),a.indicatorText){case this.settings.weak:this.switchClass(this.password.$wrapper,"error","has"),this.switchClass(this.strength.$label,"danger","label"),this.switchClass(this.strength.$bar,"danger","progress-bar"),this.password.$icon.addClass("glyphicon-remove").removeClass("glyphicon-warning-sign glyphicon-ok");break;case this.settings.fair:case this.settings.good:this.switchClass(this.password.$wrapper,"warning","has"),this.switchClass(this.strength.$label,"warning","label"),this.switchClass(this.strength.$bar,"warning","progress-bar"),this.password.$icon.addClass("glyphicon-warning-sign").removeClass("glyphicon-remove glyphicon-ok");break;case this.settings.strong:this.switchClass(this.password.$wrapper,"success","has"),this.switchClass(this.strength.$label,"success","label"),this.switchClass(this.strength.$bar,"success","progress-bar"),this.password.$icon.addClass("glyphicon-ok").removeClass("glyphicon-warning-sign glyphicon-remove")}this.validateMatch()},b.BootstrapPassword.prototype.validateMatch=function(){var a=this.password.$input.val();a&&a===this.confirm.$input.val()?(this.switchClass(this.password.$wrapper,"success","has"),this.switchClass(this.confirm.$wrapper,"success","has"),this.$helpBlock.hide(),this.strength.$label.hide(),this.strength.$bar.hide(),this.password.$icon.addClass("glyphicon-ok").removeClass("glyphicon-warning-sign glyphicon-remove"),this.confirm.$icon.addClass("glyphicon-ok").removeClass("glyphicon-remove")):a?(this.switchClass(this.confirm.$wrapper,"error","has"),this.confirm.$icon.addClass("glyphicon-remove").removeClass("glyphicon-ok")):(this.confirm.$icon.removeClass("glyphicon-ok glyphicon-remove"),this.confirm.$input.val(""),this.switchClass(this.confirm.$wrapper,"","has"))},b.behaviors.password={attach:function(c){a("input.password-field",c).once("password",function(){new b.BootstrapPassword(this)})}}}(jQuery,window.Drupal);