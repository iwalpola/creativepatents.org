!function(a){Drupal.behaviors.verticalTabs={attach:function(b){a(".vertical-tabs-panes",b).once("vertical-tabs",function(){a(this).addClass("tab-content");var b=a(":hidden.vertical-tabs-active-tab",this).val();"undefined"!=typeof b&&b.length||(b=!1);var c,d=a("> fieldset",this);if(0!==d.length){var e=a('<ul class="nav nav-tabs vertical-tabs-list"></ul>');a(this).wrap('<div class="tabbable tabs-left vertical-tabs clearfix"></div>').before(e),d.each(function(){var d=new Drupal.verticalTab({title:a("> legend",this).text(),fieldset:a(this)});e.append(d.item),a(this).removeClass("collapsible collapsed panel panel-default").addClass("tab-pane vertical-tabs-pane").data("verticalTab",d).find("> legend").remove(),a(this).find("> div").removeClass("panel-collapse collapse").addClass("fade"),this.id===b&&(c=a(this))}),a("> li:first",e).addClass("first"),a("> li:last",e).addClass("last"),c||(c=window.location.hash&&a(this).find(window.location.hash).length?a(this).find(window.location.hash).closest(".vertical-tabs-pane"):a("> .vertical-tabs-pane:first",this)),c.length&&c.data("verticalTab").focus()}})}},Drupal.verticalTab=function(b){var c=this;a.extend(this,b,Drupal.theme("verticalTab",b)),this.link.click(function(){c.focus()}),this.link.keydown(function(b){return 13===b.keyCode?(c.focus(),a("fieldset.vertical-tabs-pane :input:visible:enabled:first").focus(),!1):void 0}),this.fieldset.bind("summaryUpdated",function(){c.updateSummary()}).trigger("summaryUpdated")},Drupal.verticalTab.prototype={focus:function(){this.fieldset.siblings("fieldset.vertical-tabs-pane").each(function(){a(this).removeClass("active").find("> div").removeClass("in");var b=a(this).data("verticalTab");b.item.removeClass("selected")}).end().addClass("active").siblings(":hidden.vertical-tabs-active-tab").val(this.fieldset.attr("id")),this.fieldset.find("> div").addClass("in"),this.fieldset.data("verticalTab").item.find("a").tab("show"),this.item.addClass("selected"),a("#active-vertical-tab").remove(),this.link.append('<span id="active-vertical-tab" class="element-invisible">'+Drupal.t("(active tab)")+"</span>")},updateSummary:function(){this.summary.html(this.fieldset.drupalGetSummary())},tabShow:function(){return this.item.show(),this.item.parent().children(".vertical-tab-button").removeClass("first").filter(":visible:first").addClass("first"),this.fieldset.removeClass("vertical-tab-hidden"),this.focus(),this},tabHide:function(){this.item.hide(),this.item.parent().children(".vertical-tab-button").removeClass("first").filter(":visible:first").addClass("first"),this.fieldset.addClass("vertical-tab-hidden");var a=this.fieldset.siblings(".vertical-tabs-pane:not(.vertical-tab-hidden):first");return a.length&&a.data("verticalTab").focus(),this}},Drupal.theme.prototype.verticalTab=function(b){var c={};return c.item=a('<li class="vertical-tab-button" tabindex="-1"></li>').append(c.link=a('<a href="#'+b.fieldset[0].id+'" data-toggle="tab"></a>').append(c.title=a("<span></span>").text(b.title)).append(c.summary=a('<div class="summary"></div>'))),c}}(jQuery);